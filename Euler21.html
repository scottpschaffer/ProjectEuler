<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Euler 21</title>
</head>
<body>
    <h1>Amicable numbers</h1>
    <h2>Problem 21</h2>
    <h2>Let d(n) be defined as the sum of proper divisors of n (numbers less than n which divide evenly into n).</h2>
    <h2>If d(a) = b and d(b) = a, where a â‰  b, then a and b are an amicable pair and each of a and b are called amicable numbers.</h2>
    <h2>For example, the proper divisors of 220 are 1, 2, 4, 5, 10, 11, 20, 22, 44, 55 and 110; therefore d(220) = 284.</h2>
    <h2>The proper divisors of 284 are 1, 2, 4, 71 and 142; so d(284) = 220.</h2>
    <h2>Evaluate the sum of all the amicable numbers under 10000.</h2>
    <br>
    <h3>The Answer is...</h3>
    <p id="e21"></p>

    <script>
        function Funky21()
        {
	        // Holds first number's devisors
            var divisorsA = [];
	        // Holds second number's devisors
            var divisorsB = [];
	        // sum of amicable numbers
            var amicableNums = 0;

	        // Goes through all numbers under 10000
            for (var a = 1; a < 10000; a++)
            {
		        // sum of divisors for first number
                var sum1 = 0;
		        // Get the divisors of first number
                divisorsA = GetDivisors(a);
		        // Get sum of divisors
                for (var z = 0; z < divisorsA.length; z++)
                {
                    sum1 += divisorsA[z];
                }
                
		        // sum of divsors of second number
                var sum2 = 0;
		        // Get divisors of second number
                divisorsB = GetDivisors(sum1);
		        // Get sum of divisors
                for (var y = 0; y < divisorsB.length; y++)
                {
                    sum2 += divisorsB[y];
                }

		        // If first number is equal to sum of second number AND the sums don't equal each other
                if ((a == sum2) && (sum1 !== sum2))
                {
                    amicableNums += a;
                }
            }

            return amicableNums;
            
        }

        function GetDivisors(a)
        {
	        // Holds divisors of number
            var divisors = [];
	        // goes from 1 to square root of number (rounded-down) to get divisors
            for (var b = 1; b < (Math.floor(Math.sqrt(a)) + 1); b++ )
            {
		        // If b is a multiple of a
                if ((a % b) == 0)
                {
		            // Definitely get first number 
                    divisors.push(b);
		            // If b is not 1 or square root, then add second number as a divisor
                    if ((b !== 1) && (a / b !== b))
                    {
                        divisors.push(a / b);
                    }
                }
            }
	    //debugger;
            return divisors;
        }
        var e21Stuff = document.getElementById("e21");
	    e21Stuff.textContent = Funky21();
    </script>

</body>
</html>
